services:
  kitchen-companion:
    build: .
    init: true
    ports:
      - "8080:8080"
    volumes:
      - ./recipes:/app/recipes
      - ./data:/app/data
      - ./config:/app/config:ro
    environment:
      - RECIPES_PATH=/app/recipes
      - DATA_PATH=/app/data
      - PANTRY_PATH=/app/config/pantry.txt
      - CATEGORIES_PATH=/app/config/categories.txt
      - ADDITIONAL_ITEMS_PATH=/app/config/additional-items.txt
      - DD_RUM_APP_ID=${DD_RUM_APP_ID}
      - DD_RUM_CLIENT_TOKEN=${DD_RUM_CLIENT_TOKEN}
      - DD_RUM_SERVICE=${DD_RUM_SERVICE:-kitchen-companion}
      - DD_RUM_ENV=${DD_RUM_ENV:-rpi5}
      - DD_RUM_VERSION=${DD_RUM_VERSION:-1.0.0}
